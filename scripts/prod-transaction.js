// Auto-generated by the postman-to-k6 converter

import "./libs/shim/core.js";
import "./libs/shim/urijs.js";
import { group } from "k6";

export let options = { maxRedirects: 4 };

const Request = Symbol.for("request");
postman[Symbol.for("initial")]({
  options,
  environment: {
    baseUrl: "http://44.203.202.146:8081/v1",
    defaultUsername: "default_username"
    defaultUsername: "default_password"
  }
});

export function setup() {

  let registerData = {username: "{{defaultUsername}}", password: '{{defaultPassword}}' };

  // Using a JSON string as body
  let res = http.post(url, JSON.stringify(registerData), {
    headers: { 'Content-Type': 'application/json' },
  });
  console.log("login response: ");
  console.log(res.json()); // Bert
}

export default function() {

  group("Login", function() {
    postman[Request]({
      name: "login",
      id: "d0c1d53b-c7e9-4f17-b508-c5a1b99c9395",
      method: "POST",
      address: "{{baseUrl}}/user/login",
      data: '{"username": "{{defaultUsername}}", "password": "{{defaultPassword}}"}'
    });

  });
}
